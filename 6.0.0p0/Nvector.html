<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="docstyle.css" type="text/css">
<script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});
</script><script type="text/javascript"
        src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Sundials.html">
<link rel="next" href="Nvector_serial.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of extensions" rel=Appendix href="index_extensions.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Sundials_Index" rel="Chapter" href="Sundials_Index.html">
<link title="Sundials_Config" rel="Chapter" href="Sundials_Config.html">
<link title="Sundials_RealArray" rel="Chapter" href="Sundials_RealArray.html">
<link title="Sundials_RealArray2" rel="Chapter" href="Sundials_RealArray2.html">
<link title="Sundials_LintArray" rel="Chapter" href="Sundials_LintArray.html">
<link title="Sundials_ROArray" rel="Chapter" href="Sundials_ROArray.html">
<link title="Sundials" rel="Chapter" href="Sundials.html">
<link title="Nvector" rel="Chapter" href="Nvector.html">
<link title="Nvector_serial" rel="Chapter" href="Nvector_serial.html">
<link title="Nvector_many" rel="Chapter" href="Nvector_many.html">
<link title="Sundials_Matrix" rel="Chapter" href="Sundials_Matrix.html">
<link title="Sundials_LinearSolver" rel="Chapter" href="Sundials_LinearSolver.html">
<link title="Sundials_NonlinearSolver" rel="Chapter" href="Sundials_NonlinearSolver.html">
<link title="Nvector_custom" rel="Chapter" href="Nvector_custom.html">
<link title="Nvector_array" rel="Chapter" href="Nvector_array.html">
<link title="Cvode" rel="Chapter" href="Cvode.html">
<link title="Kinsol" rel="Chapter" href="Kinsol.html">
<link title="Ida" rel="Chapter" href="Ida.html">
<link title="Arkode" rel="Chapter" href="Arkode.html">
<link title="Cvodes" rel="Chapter" href="Cvodes.html">
<link title="Idas" rel="Chapter" href="Idas.html">
<link title="Sundials_parallel" rel="Chapter" href="Sundials_parallel.html">
<link title="Nvector_parallel" rel="Chapter" href="Nvector_parallel.html">
<link title="Nvector_mpimany" rel="Chapter" href="Nvector_mpimany.html">
<link title="Nvector_mpiplusx" rel="Chapter" href="Nvector_mpiplusx.html">
<link title="Kinsol_bbd" rel="Chapter" href="Kinsol_bbd.html">
<link title="Arkode_bbd" rel="Chapter" href="Arkode_bbd.html">
<link title="Cvode_bbd" rel="Chapter" href="Cvode_bbd.html">
<link title="Cvodes_bbd" rel="Chapter" href="Cvodes_bbd.html">
<link title="Ida_bbd" rel="Chapter" href="Ida_bbd.html">
<link title="Idas_bbd" rel="Chapter" href="Idas_bbd.html">
<link title="Nvector_openmp" rel="Chapter" href="Nvector_openmp.html">
<link title="Nvector_pthreads" rel="Chapter" href="Nvector_pthreads.html"><link title="Vector operations" rel="Section" href="#vecops">
<link title="Generic nvectors" rel="Section" href="#genvec">
<title>Sundials/ML 6.0.0p0 : Nvector</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Sundials.html" title="Sundials">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Nvector_serial.html" title="Nvector_serial">Next</a>
</div>
<h1>Module <a href="type_Nvector.html">Nvector</a></h1>

<pre><span id="MODULENvector"><span class="keyword">module</span> Nvector</span>: <code class="code"><span class="keyword">sig</span></code> <a href="Nvector.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
<div class="info-desc">
<p>Generic nvector types and operations.</p>
</div>
<ul class="info-attributes">
<div class="authors"><b>Author(s):</b> Timothy Bourke (Inria/ENS), Jun Inoue (Inria/ENS), Marc Pouzet (UPMC/ENS/Inria)</div>
<li><b>Version:</b> 6.0.0</li>
</ul>
</div>
<hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type">('data, 'kind)</code> t</span> </pre>
<div class="info ">
<div class="info-desc">
<p>Represents an nvector of kind <code class="code"><span class="keywordsign">'</span>kind</code> with underlying data of type <code class="code"><span class="keywordsign">'</span>data</code>.
    The type argument <code class="code"><span class="keywordsign">'</span>kind</code> is either <a href="Nvector_serial.html#TYPEkind"><code class="code"><span class="constructor">Nvector_serial</span>.kind</code></a>,
    <a href="Nvector_parallel.html#TYPEkind"><code class="code"><span class="constructor">Nvector_parallel</span>.kind</code></a>, <a href="Nvector_custom.html#TYPEkind"><code class="code"><span class="constructor">Nvector_custom</span>.kind</code></a>, <a href="Nvector_openmp.html#TYPEkind"><code class="code"><span class="constructor">Nvector_openmp</span>.kind</code></a>,
    or <a href="Nvector_pthreads.html#TYPEkind"><code class="code"><span class="constructor">Nvector_pthreads</span>.kind</code></a>.
    It is needed because some linear solvers make additional
    assumptions about the underlying vector representation.</p>
</div>
<ul class="info-attributes">
<li class="sundials nvector">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/nvectors/NVector_API_link.html#description-of-the-nvector-modules">N_Vector</a></li></ul>
</div>


<pre><span id="TYPEnvector"><span class="keyword">type</span> <code class="type">('data, 'kind)</code> nvector</span> = <code class="type">('data, 'kind) <a href="Nvector.html#TYPEt">t</a></code> </pre>
<div class="info ">
<div class="info-desc">
<p>An alias for <a href="Nvector.html#TYPEt"><code class="code"><span class="constructor">Nvector</span>.t</code></a>.</p>
</div>
</div>


<pre><span id="TYPEserial"><span class="keyword">type</span> <code class="type">[&gt; `Serial ]</code> serial</span> = <code class="type">(Sundials.RealArray.t, [&gt; `Serial ] as 'k) <a href="Nvector.html#TYPEt">t</a></code> </pre>
<div class="info ">
<div class="info-desc">
<p>The type of any nvector that can be used as a serial nvector.</p>
</div>
</div>


<pre><span id="VALunwrap"><span class="keyword">val</span> unwrap</span> : <code class="type">('data, 'kind) <a href="Nvector.html#TYPEt">t</a> -&gt; 'data</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">unwrap&nbsp;nv</code> returns the data underlying the nvector <code class="code">nv</code>.</p>
</div>
</div>

<pre><span id="VALcontext"><span class="keyword">val</span> context</span> : <code class="type">('data, 'kind) <a href="Nvector.html#TYPEt">t</a> -&gt; <a href="Sundials.Context.html#TYPEt">Sundials.Context.t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Returns the context used to create the nvector.</p>
</div>
</div>

<pre><span id="EXCEPTIONIncompatibleNvector"><span class="keyword">exception</span> IncompatibleNvector</span></pre>
<div class="info ">
<div class="info-desc">
<p>Raised when an nvector argument is incompatible with a session.
    For example, when a solver session was initialized with an nvector
    having 10 elements, and a later call passes an nvector with only
    9 elements. The exact details depend on the nvector instantiation.</p>
</div>
</div>

<pre><span id="VALcheck"><span class="keyword">val</span> check</span> : <code class="type">('data, 'kind) <a href="Nvector.html#TYPEt">t</a> -&gt; ('data, 'kind) <a href="Nvector.html#TYPEt">t</a> -&gt; unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">check&nbsp;v1&nbsp;v2</code> checks <code class="code">v1</code> and <code class="code">v2</code> for compatibility.</p>
</div>
<ul class="info-attributes">
<div class="raisedexceptions"><span class="raises">Raises</span> <code>IncompatibleNvector</code> The vectors are not compatible.</div>
</ul>
</div>

<pre><span id="VALclone"><span class="keyword">val</span> clone</span> : <code class="type">('data, 'kind) <a href="Nvector.html#TYPEt">t</a> -&gt; ('data, 'kind) <a href="Nvector.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Clone an nvector. Cloning duplicates the payload and preserves the
    status of fused and array operations.</p>
</div>
</div>

<pre><code><span id="TYPEnvector_id"><span class="keyword">type</span> <code class="type"></code>nvector_id</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.Serial"><span class="constructor">Serial</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.Parallel"><span class="constructor">Parallel</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.OpenMP"><span class="constructor">OpenMP</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.Pthreads"><span class="constructor">Pthreads</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.ParHyp"><span class="constructor">ParHyp</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.PETSc"><span class="constructor">PETSc</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.CUDA"><span class="constructor">CUDA</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.RAJA"><span class="constructor">RAJA</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.OpenMPdev"><span class="constructor">OpenMPdev</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.Trilinos"><span class="constructor">Trilinos</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.ManyVector"><span class="constructor">ManyVector</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.MpiManyVector"><span class="constructor">MpiManyVector</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.MpiPlusX"><span class="constructor">MpiPlusX</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTnvector_id.Custom"><span class="constructor">Custom</span></span></code></td>

</tr></table>

<div class="info ">
<div class="info-desc">
<p>Vector type identifiers.</p>
</div>
</div>


<pre><span id="VALget_id"><span class="keyword">val</span> get_id</span> : <code class="type">('data, 'kind) <a href="Nvector.html#TYPEt">t</a> -&gt; <a href="Nvector.html#TYPEnvector_id">nvector_id</a></code></pre><div class="info ">
<div class="info-desc">
<p>Returns the vector type identifier.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 2.9.0</li>
</ul>
</div>
<h3 id="vecops">Vector operations</h3>
<pre><span id="MODULETYPENVECTOR_OPS"><span class="keyword">module type</span> <a href="Nvector.NVECTOR_OPS.html">NVECTOR_OPS</a></span> = <code class="code"><span class="keyword">sig</span></code> <a href="Nvector.NVECTOR_OPS.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
<p>Basic operations underlying an nvector.</p>

</div>

<pre><span id="MODULETYPENVECTOR"><span class="keyword">module type</span> <a href="Nvector.NVECTOR.html">NVECTOR</a></span> = <code class="code"><span class="keyword">sig</span></code> <a href="Nvector.NVECTOR.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
<p>Basic structure of a concrete nvector implementation module.</p>

</div>

<pre><span id="MODULEOps"><span class="keyword">module</span> <a href="Nvector.Ops.html">Ops</a></span>: <code class="code"><span class="keyword">sig</span></code> <a href="Nvector.Ops.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info">
<p>Operations on any type of nvector.</p>

</div>
<h3 id="genvec">Generic nvectors</h3>
<p>The two arguments of the standard nvector type encode, respectively, the
    type of the data payload that is manipulated from OCaml and the type of
    the underlying implementation. This encoding has two advantages. First,
    callback functions have direct access to the data payload. Second,
    incorrect combinations of nvectors can be rejected at compile time
    (although dynamic checks are still required on payload dimensions). There
    are two main disadvantages to this encoding. First, type signatures and
    error messages become more complicated. Second, it is not possible to form
    lists or arrays of heterogeneous nvectors, despite the object-oriented
    style of the underlying implementation.</p>

<p>Generic nvectors are an alternative interface that inverses the advantages
    and disadvantages of standard nvectors. The data payload is now accessed
    through a constructor that otherwise hides the underlying type. Since all
    such nvectors have the same values for the two type arguments, they can be
    stored together in lists and arrays regardless of their underlying
    payloads and implementations. The price to pay is additional run-time
    checks and the fact that certain errors can no longer be detected
    statically.</p>

<pre><span id="TYPEgdata"><span class="keyword">type</span> <code class="type"></code>gdata</span> = ..</pre>
<div class="info ">
<div class="info-desc">
<p>Represents generic nvector data. This type is extensible so that other
    nvector modules can support the generic form.</p>
</div>
</div>

<pre><code><span class="keyword">type</span> <code class="type"></code><a href="Nvector.html#TYPEgdata">gdata</a> += </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="EXTENSIONRA">RA</span> <span class="keyword">of</span> <code class="type">Sundials.RealArray.t</code></code></td>

</tr></table>

<div class="info ">
<div class="info-desc">
<p>Generic wrapper for <a href="Sundials_RealArray.html#TYPEt">RealArray</a>.</p>
</div>
</div>


<pre><span id="TYPEgkind"><span class="keyword">type</span> <code class="type"></code>gkind</span> </pre>
<div class="info ">
<div class="info-desc">
<p>Represents an nvector whose data must be accessed through a constructor
    in <a href="Nvector.html#TYPEgdata"><code class="code"><span class="constructor">Nvector</span>.gdata</code></a>.</p>
</div>
</div>


<pre><span id="TYPEany"><span class="keyword">type</span> <code class="type"></code>any</span> = <code class="type">(<a href="Nvector.html#TYPEgdata">gdata</a>, <a href="Nvector.html#TYPEgkind">gkind</a>) <a href="Nvector.html#TYPEt">t</a></code> </pre>
<div class="info ">
<div class="info-desc">
<p>The type of a generic nvector.</p>
</div>
</div>


<pre><span id="EXCEPTIONBadGenericType"><span class="keyword">exception</span> BadGenericType</span></pre>
<div class="info ">
<div class="info-desc">
<p>A <a href="Nvector.html#TYPEgdata"><code class="code"><span class="constructor">Nvector</span>.gdata</code></a> value did not have the expected wrapper.</p>
</div>
</div>

<pre><span id="EXCEPTIONOperationNotProvided"><span class="keyword">exception</span> OperationNotProvided</span></pre>
<div class="info ">
<div class="info-desc">
<p>The requested operation is not provided by the given nvector.</p>
</div>
</div>

<pre><span id="MODULEMakeDataOps"><span class="keyword">module</span> <a href="Nvector.MakeDataOps.html">MakeDataOps</a></span> <code class="code">(</code><code class="code">*</code><code class="code">&nbsp;:&nbsp;</code><code class="code"><span class="keyword">sig</span></code></pre><div class="sig_block"></div><pre><code class="code"><span class="keyword">end</span></code><code class="code">)&nbsp;</code>: <code class="type"><a href="Nvector.NVECTOR_OPS.html">NVECTOR_OPS</a></code><code class="type">  with type t = gdata</code></pre><div class="info">
<p>Lifts a set of operations on a type <code class="code">t</code> to a set of operations on a
    generic nvector payload.</p>

</div>
</body></html>
