<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="docstyle.css" type="text/css">
<script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});
</script><script type="text/javascript"
        src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Arkode.ARKStep.Mass.Dls.html">
<link rel="Up" href="Arkode.ARKStep.Mass.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of extensions" rel=Appendix href="index_extensions.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Sundials_Index" rel="Chapter" href="Sundials_Index.html">
<link title="Sundials_Config" rel="Chapter" href="Sundials_Config.html">
<link title="Sundials_RealArray" rel="Chapter" href="Sundials_RealArray.html">
<link title="Sundials_RealArray2" rel="Chapter" href="Sundials_RealArray2.html">
<link title="Sundials_LintArray" rel="Chapter" href="Sundials_LintArray.html">
<link title="Sundials_ROArray" rel="Chapter" href="Sundials_ROArray.html">
<link title="Sundials" rel="Chapter" href="Sundials.html">
<link title="Nvector" rel="Chapter" href="Nvector.html">
<link title="Nvector_serial" rel="Chapter" href="Nvector_serial.html">
<link title="Nvector_many" rel="Chapter" href="Nvector_many.html">
<link title="Sundials_Matrix" rel="Chapter" href="Sundials_Matrix.html">
<link title="Sundials_LinearSolver" rel="Chapter" href="Sundials_LinearSolver.html">
<link title="Sundials_NonlinearSolver" rel="Chapter" href="Sundials_NonlinearSolver.html">
<link title="Nvector_custom" rel="Chapter" href="Nvector_custom.html">
<link title="Nvector_array" rel="Chapter" href="Nvector_array.html">
<link title="Cvode" rel="Chapter" href="Cvode.html">
<link title="Kinsol" rel="Chapter" href="Kinsol.html">
<link title="Ida" rel="Chapter" href="Ida.html">
<link title="Arkode" rel="Chapter" href="Arkode.html">
<link title="Cvodes" rel="Chapter" href="Cvodes.html">
<link title="Idas" rel="Chapter" href="Idas.html">
<link title="Sundials_parallel" rel="Chapter" href="Sundials_parallel.html">
<link title="Nvector_parallel" rel="Chapter" href="Nvector_parallel.html">
<link title="Nvector_mpimany" rel="Chapter" href="Nvector_mpimany.html">
<link title="Nvector_mpiplusx" rel="Chapter" href="Nvector_mpiplusx.html">
<link title="Kinsol_bbd" rel="Chapter" href="Kinsol_bbd.html">
<link title="Arkode_bbd" rel="Chapter" href="Arkode_bbd.html">
<link title="Cvode_bbd" rel="Chapter" href="Cvode_bbd.html">
<link title="Cvodes_bbd" rel="Chapter" href="Cvodes_bbd.html">
<link title="Ida_bbd" rel="Chapter" href="Ida_bbd.html">
<link title="Idas_bbd" rel="Chapter" href="Idas_bbd.html">
<link title="Nvector_openmp" rel="Chapter" href="Nvector_openmp.html">
<link title="Nvector_pthreads" rel="Chapter" href="Nvector_pthreads.html"><link title="Preconditioners" rel="Section" href="#arkspilsmassprecond">
<link title="Solvers" rel="Section" href="#arkspilsmasslsolvers">
<link title="Solver parameters" rel="Section" href="#arkspilsmassset">
<link title="Solver statistics" rel="Section" href="#arkspilsmassstats">
<link title="Low-level solver manipulation" rel="Section" href="#arkspilsmasslowlevel">
<title>Sundials/ML 6.1.0p0 : Arkode.ARKStep.Mass.Spils</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Arkode.ARKStep.Mass.Dls.html" title="Arkode.ARKStep.Mass.Dls">Previous</a>
&nbsp;<a class="up" href="Arkode.ARKStep.Mass.html" title="Arkode.ARKStep.Mass">Up</a>
&nbsp;</div>
<h1>Module <a href="type_Arkode.ARKStep.Mass.Spils.html">Arkode.ARKStep.Mass.Spils</a></h1>

<pre><span id="MODULESpils"><span class="keyword">module</span> Spils</span>: <code class="code"><span class="keyword">sig</span></code> <a href="Arkode.ARKStep.Mass.Spils.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
<div class="info-desc">
<h4 id="arkspilsmass">Iterative mass matrix solvers</h4></div>
</div>
<hr width="100%">

<pre><span class="keyword">include</span> <a href="Sundials_LinearSolver.Iterative.html">Sundials_LinearSolver.Iterative</a></pre>
<h4 id="arkspilsmassprecond">Preconditioners</h4>
<pre><code><span id="TYPEprec_solve_arg"><span class="keyword">type</span> <code class="type">'d</code> prec_solve_arg</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTprec_solve_arg.rhs">rhs</span>&nbsp;: <code class="type">'d</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
<div class="info-desc">
<p>Right-hand side vector of the linear system.</p>
</div>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTprec_solve_arg.delta">delta</span>&nbsp;: <code class="type">float</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
<div class="info-desc">
<p>Input tolerance for iterative methods.</p>
</div>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTprec_solve_arg.left">left</span>&nbsp;: <code class="type">bool</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
<div class="info-desc">
<p><code class="code"><span class="keyword">true</span></code> for left preconditioning and
                               <code class="code"><span class="keyword">false</span></code> for right preconditioning.</p>
</div>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>
<code>}</code>

<div class="info ">
<div class="info-desc">
<p>Arguments passed to the mass matrix preconditioner solver function.</p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/User_supplied.html#c.ARKLsMassPrecSolveFn">ARKLsMassPrecSolveFn</a></li></ul>
</div>


<pre><span id="TYPEprec_solve_fn"><span class="keyword">type</span> <code class="type">'d</code> prec_solve_fn</span> = <code class="type">float -> 'd <a href="Arkode.ARKStep.Mass.Spils.html#TYPEprec_solve_arg">prec_solve_arg</a> -> 'd -> unit</code> </pre>
<div class="info ">
<div class="info-desc">
<p>Callback functions that solve a linear mass matrix system involving
          a preconditioner matrix. In the call <code class="code">prec_solve_fn&nbsp;t&nbsp;arg&nbsp;z</code>, <code class="code">t</code>
          is the independent variable, <code class="code">arg</code> is a <a href="Arkode.ARKStep.Mass.Spils.html#TYPEprec_solve_arg"><code class="code"><span class="constructor">Arkode</span>.<span class="constructor">ARKStep</span>.<span class="constructor">Mass</span>.<span class="constructor">Spils</span>.prec_solve_arg</code></a> that
          specifies the linear system, and <code class="code">z</code> is computed to solve
          $P\mathtt{z} = \mathtt{arg.rhs}$. $P$ is a left or right
          preconditioning matrix, if preconditioning is done on both sides,
          the product of the two preconditioner matrices should approximate
          $M$.</p>

<p>Raising <a href="Sundials.html#EXCEPTIONRecoverableFailure"><code class="code"><span class="constructor">Sundials</span>.<span class="constructor">RecoverableFailure</span></code></a> indicates a recoverable
          error. Any other exception is treated as an unrecoverable error.</p>

<p><div class="warningbox"> The elements of <code class="code">arg</code> and <code class="code">z</code> should not
                   be accessed after the function has returned.</div></p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/User_supplied.html#c.ARKLsMassPrecSolveFn">ARKLsMassPrecSolveFn</a></li></ul>
</div>


<pre><span id="TYPEprec_setup_fn"><span class="keyword">type</span> <code class="type">'d</code> prec_setup_fn</span> = <code class="type">float -> unit</code> </pre>
<div class="info ">
<div class="info-desc">
<p>Callback functions that preprocess or evaluate mass matrix-related
          data needed by <a href="Arkode.ARKStep.Mass.Spils.html#TYPEprec_solve_fn"><code class="code"><span class="constructor">Arkode</span>.<span class="constructor">ARKStep</span>.<span class="constructor">Mass</span>.<span class="constructor">Spils</span>.prec_solve_fn</code></a>. The argument gives the independent
          variable <code class="code">t</code>.</p>

<p>Raising <a href="Sundials.html#EXCEPTIONRecoverableFailure"><code class="code"><span class="constructor">Sundials</span>.<span class="constructor">RecoverableFailure</span></code></a> indicates a recoverable
          error. Any other exception is treated as an unrecoverable error.</p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/User_supplied.html#c.ARKLsMassPrecSetupFn">ARKLsMassPrecSetupFn</a></li></ul>
</div>


<pre><span id="TYPEpreconditioner"><span class="keyword">type</span> <code class="type">('d, 'k)</code> preconditioner</span> </pre>
<div class="info ">
<div class="info-desc">
<p>Specifies a preconditioner, including the type of preconditioning
          (none, left, right, or both) and callback functions.
          The following functions construct preconditioners.</p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepSetMassPreconditioner">ARKStepSetMassPreconditioner</a></li><li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/User_supplied.html#c.ARKLsMassPrecSetupFn">ARKLsMassPrecSetupFn</a></li><li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/User_supplied.html#c.ARKLsMassPrecSolveFn">ARKLsMassPrecSolveFn</a></li></ul>
</div>


<pre><span id="VALprec_none"><span class="keyword">val</span> prec_none</span> : <code class="type">('d, 'k) <a href="Arkode.ARKStep.Mass.Spils.html#TYPEpreconditioner">preconditioner</a></code></pre><div class="info ">
<div class="info-desc">
<p>No preconditioning.</p>
</div>
</div>

<pre><span id="VALprec_left"><span class="keyword">val</span> prec_left</span> : <code class="type">?setup:'d <a href="Arkode.ARKStep.Mass.Spils.html#TYPEprec_setup_fn">prec_setup_fn</a> -><br>       'd <a href="Arkode.ARKStep.Mass.Spils.html#TYPEprec_solve_fn">prec_solve_fn</a> -><br>       ('d, 'k) <a href="Arkode.ARKStep.Mass.Spils.html#TYPEpreconditioner">preconditioner</a></code></pre><div class="info ">
<div class="info-desc">
<p>Left preconditioning. $(P^{-1}M)x = P^{-1}b$ .</p>
</div>
</div>

<pre><span id="VALprec_right"><span class="keyword">val</span> prec_right</span> : <code class="type">?setup:'d <a href="Arkode.ARKStep.Mass.Spils.html#TYPEprec_setup_fn">prec_setup_fn</a> -><br>       'd <a href="Arkode.ARKStep.Mass.Spils.html#TYPEprec_solve_fn">prec_solve_fn</a> -><br>       ('d, 'k) <a href="Arkode.ARKStep.Mass.Spils.html#TYPEpreconditioner">preconditioner</a></code></pre><div class="info ">
<div class="info-desc">
<p>Right preconditioning. $(MP^{-1})Px = b$ .</p>
</div>
</div>

<pre><span id="VALprec_both"><span class="keyword">val</span> prec_both</span> : <code class="type">?setup:'d <a href="Arkode.ARKStep.Mass.Spils.html#TYPEprec_setup_fn">prec_setup_fn</a> -><br>       'd <a href="Arkode.ARKStep.Mass.Spils.html#TYPEprec_solve_fn">prec_solve_fn</a> -><br>       ('d, 'k) <a href="Arkode.ARKStep.Mass.Spils.html#TYPEpreconditioner">preconditioner</a></code></pre><div class="info ">
<div class="info-desc">
<p>Left and right preconditioning.
          $(P_L^{-1}MP_R^{-1})P_Rx = P_L^{-1}b$</p>
</div>
</div>
<h4 id="arkspilsmasslsolvers">Solvers</h4>
<pre><span id="TYPEmass_times_setup_fn"><span class="keyword">type</span> <code class="type"></code>mass_times_setup_fn</span> = <code class="type">float -> unit</code> </pre>
<div class="info ">
<div class="info-desc">
<p>Callback functions that preprocess or evaluate Jacobian-related
          data needed by the mass_times_vec_fn. The argument gives the
          independent variable <code class="code">t</code>.</p>

<p>Raising <a href="Sundials.html#EXCEPTIONRecoverableFailure"><code class="code"><span class="constructor">Sundials</span>.<span class="constructor">RecoverableFailure</span></code></a> indicates a recoverable
          error. Any other exception is treated as an unrecoverable error.</p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/User_supplied.html#c.ARKLsMassTimesSetupFn">ARKLsMassTimesSetupFn</a></li></ul>
</div>


<pre><span id="TYPEmass_times_vec_fn"><span class="keyword">type</span> <code class="type">'d</code> mass_times_vec_fn</span> = <code class="type">float -> 'd -> 'd -> unit</code> </pre>
<div class="info ">
<div class="info-desc">
<p>Callback functions that compute the mass matrix times a vector. In
          the call <code class="code">mass_times_vec_fn&nbsp;t&nbsp;v&nbsp;mv</code>,</p>
<ul>
<li><code class="code">t</code> is the independent variable,</li>
<li><code class="code">v</code> is the vector to multiply, and</li>
<li><code class="code">mv</code> is the computed output
                 vector—$\mathtt{mv} = M\mathtt{v}$.</li>
</ul>
<p>Raising <a href="Sundials.html#EXCEPTIONRecoverableFailure"><code class="code"><span class="constructor">Sundials</span>.<span class="constructor">RecoverableFailure</span></code></a> indicates a recoverable
          error. Any other exception is treated as an unrecoverable error.</p>

<p><div class="warningbox"> Neither the elements of <code class="code">v</code> nor <code class="code">mv</code> should be
                   accessed after the function has returned.</div></p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/User_supplied.html#c.ARKLsMassTimesVecFn">ARKLsMassTimesVecFn</a></li></ul>
</div>


<pre><span id="VALsolver"><span class="keyword">val</span> solver</span> : <code class="type">('m, 'd, 'k, [> `Iter ]) Sundials.LinearSolver.t -><br>       ?mass_times_setup:<a href="Arkode.ARKStep.Mass.Spils.html#TYPEmass_times_setup_fn">mass_times_setup_fn</a> -><br>       'd <a href="Arkode.ARKStep.Mass.Spils.html#TYPEmass_times_vec_fn">mass_times_vec_fn</a> -><br>       bool -><br>       ('d, 'k) <a href="Arkode.ARKStep.Mass.Spils.html#TYPEpreconditioner">preconditioner</a> -><br>       ('d, 'k) <a href="Arkode.ARKStep.Mass.html#TYPEsolver">Arkode.ARKStep.Mass.solver</a></code></pre><div class="info ">
<div class="info-desc">
<p>Create an Arkode-specific mass linear solver from a generic
          iterative linear solver. The boolean argument indicates whether
          the mass matrix depends on the independent variable <code class="code">t</code>, if not
          it is only computed and factored once.</p>

<p>NB: a <code class="code">mass_times_setup_fn</code> is not supported in
          <a href="Sundials_Config.html#VALsundials_version">Config.sundials_version</a> &lt; 3.0.0.</p>

<p>NB: The boolean argument is ignored in
          <a href="Sundials_Config.html#VALsundials_version">Config.sundials_version</a> &lt; 3.0.0.</p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepSetMassLinearSolver">ARKStepSetMassLinearSolver</a></li><li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepSetMassTimes">ARKStepSetMassTimes</a></li></ul>
</div>
<h4 id="arkspilsmassset">Solver parameters</h4>
<pre><span id="VALset_eps_lin"><span class="keyword">val</span> set_eps_lin</span> : <code class="type">('d, 'k) <a href="Arkode.ARKStep.html#TYPEsession">Arkode.ARKStep.session</a> -> float -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Sets the factor by which the Krylov linear solver's convergence
          test constant is reduced from the Newton iteration test constant.
          This factor must be &gt;= 0; passing 0 specifies the default (0.05).</p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepSetMassEpsLin">ARKStepSetMassEpsLin</a></li></ul>
</div>

<pre><span id="VALset_ls_norm_factor"><span class="keyword">val</span> set_ls_norm_factor</span> : <code class="type">('d, 'k) <a href="Arkode.ARKStep.html#TYPEsession">Arkode.ARKStep.session</a> -> float -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Sets the factor for converting from the integrator tolerance (WRMS
          norm) to the linear solver tolerance (L2 norm). That is,
          $\mathit{tol}_{\mathsf{L2}} =
              \mathit{fact}\cdot\mathit{tol}_{\mathsf{WRMS}}$ .
          The given value is used directly if it is greater than zero.
          If it is zero (the default), then the square root of the state
          vector length is used.
          If it is less than zero, then the square root of the dot product of a
          state vector full of ones with itself is used.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 5.4.0</li>
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepSetMassLSNormFactor">ARKStepSetMassLSNormFactor</a></li></ul>
</div>
<h4 id="arkspilsmassstats">Solver statistics</h4>
<pre><span id="VALget_work_space"><span class="keyword">val</span> get_work_space</span> : <code class="type">('d, 'k) <a href="Arkode.ARKStep.html#TYPEsession">Arkode.ARKStep.session</a> -> int * int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the sizes of the real and integer workspaces used by the
          spils linear solver.</p>
</div>
<ul class="info-attributes">
<li><b>Returns</b> (<code class="code">real_size</code>, <code class="code">integer_size</code>)</li>
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepGetMassWorkSpace">ARKStepGetMassWorkSpace</a></li></ul>
</div>

<pre><span id="VALget_num_lin_iters"><span class="keyword">val</span> get_num_lin_iters</span> : <code class="type">('d, 'k) <a href="Arkode.ARKStep.html#TYPEsession">Arkode.ARKStep.session</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the cumulative number of linear iterations.</p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepGetNumMassIters">ARKStepGetNumMassIters</a></li></ul>
</div>

<pre><span id="VALget_num_conv_fails"><span class="keyword">val</span> get_num_conv_fails</span> : <code class="type">('d, 'k) <a href="Arkode.ARKStep.html#TYPEsession">Arkode.ARKStep.session</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the cumulative number of linear convergence failures.</p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepGetNumMassConvFails">ARKStepGetNumMassConvFails</a></li></ul>
</div>

<pre><span id="VALget_num_mtsetups"><span class="keyword">val</span> get_num_mtsetups</span> : <code class="type">('d, 'k) <a href="Arkode.ARKStep.html#TYPEsession">Arkode.ARKStep.session</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the cumulative number of calls to the mass-matrix-vector
          setup function.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 3.0.0</li>
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepGetNumMTSetups">ARKStepGetNumMTSetups</a></li></ul>
</div>

<pre><span id="VALget_num_mass_mult"><span class="keyword">val</span> get_num_mass_mult</span> : <code class="type">('d, 'k) <a href="Arkode.ARKStep.html#TYPEsession">Arkode.ARKStep.session</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the cumulative number of calls to the mass-matrix-vector
          product function (<a href="Arkode.ARKStep.Mass.Spils.html#TYPEmass_times_vec_fn"><code class="code"><span class="constructor">Arkode</span>.<span class="constructor">ARKStep</span>.<span class="constructor">Mass</span>.<span class="constructor">Spils</span>.mass_times_vec_fn</code></a>).</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 2.6.3</li>
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepGetNumMassMult">ARKStepGetNumMassMult</a></li></ul>
</div>

<pre><span id="VALget_num_prec_evals"><span class="keyword">val</span> get_num_prec_evals</span> : <code class="type">('d, 'k) <a href="Arkode.ARKStep.html#TYPEsession">Arkode.ARKStep.session</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the cumulative number of calls to the setup function with
          <code class="code">jok=<span class="keyword">false</span></code>.</p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepGetNumMassPrecEvals">ARKStepGetNumMassPrecEvals</a></li></ul>
</div>

<pre><span id="VALget_num_prec_solves"><span class="keyword">val</span> get_num_prec_solves</span> : <code class="type">('d, 'k) <a href="Arkode.ARKStep.html#TYPEsession">Arkode.ARKStep.session</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the cumulative number of calls to the preconditioner solve
          function.</p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepGetNumMassPrecSolves">ARKStepGetNumMassPrecSolves</a></li></ul>
</div>
<h4 id="arkspilsmasslowlevel">Low-level solver manipulation</h4>
<p>The <a href="Arkode.ARKStep.html#VALinit"><code class="code"><span class="constructor">Arkode</span>.<span class="constructor">ARKStep</span>.init</code></a> and <a href="Arkode.ARKStep.html#VALreinit"><code class="code"><span class="constructor">Arkode</span>.<span class="constructor">ARKStep</span>.reinit</code></a> functions are the preferred way to set or
          change preconditioner functions. These low-level functions are
          provided for experts who want to avoid resetting internal counters
          and other associated side-effects.</p>

<pre><span id="VALset_preconditioner"><span class="keyword">val</span> set_preconditioner</span> : <code class="type">('d, 'k) <a href="Arkode.ARKStep.html#TYPEsession">Arkode.ARKStep.session</a> -><br>       ?setup:'d <a href="Arkode.ARKStep.Mass.Spils.html#TYPEprec_setup_fn">prec_setup_fn</a> -><br>       'd <a href="Arkode.ARKStep.Mass.Spils.html#TYPEprec_solve_fn">prec_solve_fn</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Change the preconditioner functions.</p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepSetMassPreconditioner">ARKStepSetMassPreconditioner</a></li><li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/User_supplied.html#c.ARKLsMassPrecSolveFn">ARKLsMassPrecSolveFn</a></li><li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/User_supplied.html#c.ARKLsMassPrecSetupFn">ARKLsMassPrecSetupFn</a></li></ul>
</div>

<pre><span id="VALset_times"><span class="keyword">val</span> set_times</span> : <code class="type">('d, 'k) <a href="Arkode.ARKStep.html#TYPEsession">Arkode.ARKStep.session</a> -><br>       ?mass_times_setup:<a href="Arkode.ARKStep.Mass.Spils.html#TYPEmass_times_setup_fn">mass_times_setup_fn</a> -><br>       'd <a href="Arkode.ARKStep.Mass.Spils.html#TYPEmass_times_vec_fn">mass_times_vec_fn</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Change the mass matrix-times-vector function.</p>
</div>
<ul class="info-attributes">
<li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/ARKStep_c_interface/User_callable.html#c.ARKStepSetMassTimes">ARKStepSetMassTimes</a></li><li class="sundials arkode">      <span class="seesundials">See Sundials: </span>      <a href="https://sundials.readthedocs.io/en/latest/arkode/Usage/User_supplied.html#c.ARKLsMassTimesVecFn">ARKLsMassTimesVecFn</a></li></ul>
</div>
</body></html>
