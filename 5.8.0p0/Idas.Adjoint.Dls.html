<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="docstyle.css" type="text/css">
<script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});
</script><script type="text/javascript"
        src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="next" href="Idas.Adjoint.Spils.html">
<link rel="Up" href="Idas.Adjoint.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of extensions" rel=Appendix href="index_extensions.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Sundials_Index" rel="Chapter" href="Sundials_Index.html">
<link title="Sundials_Config" rel="Chapter" href="Sundials_Config.html">
<link title="Sundials_RealArray" rel="Chapter" href="Sundials_RealArray.html">
<link title="Sundials_RealArray2" rel="Chapter" href="Sundials_RealArray2.html">
<link title="Sundials_LintArray" rel="Chapter" href="Sundials_LintArray.html">
<link title="Sundials_ROArray" rel="Chapter" href="Sundials_ROArray.html">
<link title="Sundials_Logfile" rel="Chapter" href="Sundials_Logfile.html">
<link title="Sundials" rel="Chapter" href="Sundials.html">
<link title="Nvector" rel="Chapter" href="Nvector.html">
<link title="Nvector_serial" rel="Chapter" href="Nvector_serial.html">
<link title="Nvector_many" rel="Chapter" href="Nvector_many.html">
<link title="Sundials_Matrix" rel="Chapter" href="Sundials_Matrix.html">
<link title="Sundials_LinearSolver" rel="Chapter" href="Sundials_LinearSolver.html">
<link title="Sundials_NonlinearSolver" rel="Chapter" href="Sundials_NonlinearSolver.html">
<link title="Nvector_custom" rel="Chapter" href="Nvector_custom.html">
<link title="Nvector_array" rel="Chapter" href="Nvector_array.html">
<link title="Cvode" rel="Chapter" href="Cvode.html">
<link title="Kinsol" rel="Chapter" href="Kinsol.html">
<link title="Ida" rel="Chapter" href="Ida.html">
<link title="Arkode" rel="Chapter" href="Arkode.html">
<link title="Cvodes" rel="Chapter" href="Cvodes.html">
<link title="Idas" rel="Chapter" href="Idas.html">
<link title="Nvector_parallel" rel="Chapter" href="Nvector_parallel.html">
<link title="Nvector_mpimany" rel="Chapter" href="Nvector_mpimany.html">
<link title="Nvector_mpiplusx" rel="Chapter" href="Nvector_mpiplusx.html">
<link title="Kinsol_bbd" rel="Chapter" href="Kinsol_bbd.html">
<link title="Arkode_bbd" rel="Chapter" href="Arkode_bbd.html">
<link title="Cvode_bbd" rel="Chapter" href="Cvode_bbd.html">
<link title="Cvodes_bbd" rel="Chapter" href="Cvodes_bbd.html">
<link title="Ida_bbd" rel="Chapter" href="Ida_bbd.html">
<link title="Idas_bbd" rel="Chapter" href="Idas_bbd.html">
<link title="Nvector_openmp" rel="Chapter" href="Nvector_openmp.html">
<link title="Nvector_pthreads" rel="Chapter" href="Nvector_pthreads.html"><link title="Solver statistics" rel="Section" href="#stats">
<title>Sundials/ML 5.8.0p0 : Idas.Adjoint.Dls</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="Idas.Adjoint.html" title="Idas.Adjoint">Up</a>
&nbsp;<a class="post" href="Idas.Adjoint.Spils.html" title="Idas.Adjoint.Spils">Next</a>
</div>
<h1>Module <a href="type_Idas.Adjoint.Dls.html">Idas.Adjoint.Dls</a></h1>

<pre><span id="MODULEDls"><span class="keyword">module</span> Dls</span>: <code class="code"><span class="keyword">sig</span></code> <a href="Idas.Adjoint.Dls.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
<div class="info-desc">
<p>Direct Linear Solvers operating on dense, banded, and sparse matrices.</p>
</div>
</div>
<hr width="100%">

<pre><span class="keyword">include</span> <a href="Sundials_LinearSolver.Direct.html">Sundials_LinearSolver.Direct</a></pre>

<pre><span id="TYPEjac_fn_no_sens"><span class="keyword">type</span> <code class="type">'m</code> jac_fn_no_sens</span> = <code class="type">(Sundials.RealArray.t <a href="Idas.Adjoint.html#TYPEtriple">Idas.Adjoint.triple</a>, Sundials.RealArray.t)<br>       <a href="Idas.Adjoint.html#TYPEjacobian_arg">Idas.Adjoint.jacobian_arg</a> -> 'm -> unit</code> </pre>
<div class="info ">
<div class="info-desc">
<p>Callback functions that compute dense approximations to a Jacobian
        matrix without forward sensitivities. In the call
        <code class="code">jac&nbsp;arg&nbsp;jm</code>, <code class="code">arg</code> is a <a href="Idas.Adjoint.html#TYPEjacobian_arg"><code class="code"><span class="constructor">Idas</span>.<span class="constructor">Adjoint</span>.jacobian_arg</code></a> with three work
        vectors and the computed Jacobian must be stored in <code class="code">jm</code>.</p>

<p>The callback should load the <code class="code">(i,j)</code>th entry of <code class="code">jm</code> with
        $\frac{\partial F_i}{\partial y_j} + c_j\frac{\partial F_i}{\partial\dot{y}_j}$,
        i.e., the partial derivative of the <code class="code">i</code>th equation with respect to
        the <code class="code">j</code>th variable, evaluated at the values of <code class="code">t</code>, <code class="code">y</code>, and <code class="code">y'</code>
        obtained from <code class="code">arg</code>. Only nonzero elements need be loaded into <code class="code">jm</code>.</p>

<p>Raising <a href="Sundials.html#EXCEPTIONRecoverableFailure"><code class="code"><span class="constructor">Sundials</span>.<span class="constructor">RecoverableFailure</span></code></a> indicates a recoverable error.
        Any other exception is treated as an unrecoverable error.</p>

<p><div class="warningbox"> Neither the elements of <code class="code">arg</code> nor the matrix <code class="code">jm</code> should
                 be accessed after the function has returned.</div></p>
</div>
<ul class="info-attributes">
<li><div class="sundials idas">      <span class="seesundials">See sundials: </span>IDALsJacFnB</div></li></ul>
</div>


<pre><span id="TYPEjac_fn_with_sens"><span class="keyword">type</span> <code class="type">'m</code> jac_fn_with_sens</span> = <code class="type">(Sundials.RealArray.t <a href="Idas.Adjoint.html#TYPEtriple">Idas.Adjoint.triple</a>, Sundials.RealArray.t)<br>       <a href="Idas.Adjoint.html#TYPEjacobian_arg">Idas.Adjoint.jacobian_arg</a> -><br>       Sundials.RealArray.t array -> Sundials.RealArray.t array -> 'm -> unit</code> </pre>
<div class="info ">
<div class="info-desc">
<p>Callback functions that compute dense approximations to a Jacobian
        matrix with forward sensitivities. In the call
        <code class="code">jac&nbsp;arg&nbsp;ys&nbsp;yps&nbsp;jm</code>, <code class="code">arg</code> is a <a href="Idas.Adjoint.html#TYPEjacobian_arg"><code class="code"><span class="constructor">Idas</span>.<span class="constructor">Adjoint</span>.jacobian_arg</code></a> with
        three work vectors, <code class="code">ys</code> contains the sensitivities of the forward
        solution, <code class="code">yps</code> contains the derivatives of the forward solution
        sensitivities, and the computed Jacobian must be stored in <code class="code">jm</code>.</p>

<p>The callback should load the <code class="code">(i,j)</code>th entry of <code class="code">jm</code> with
        $\frac{\partial F_i}{\partial y_j} + c_j\frac{\partial F_i}{\partial\dot{y}_j}$,
        i.e., the partial derivative of the <code class="code">i</code>th equation with respect to
        the <code class="code">j</code>th variable, evaluated at the values of <code class="code">t</code>, <code class="code">y</code>, and <code class="code">y'</code>
        obtained from <code class="code">arg</code>. Only nonzero elements need be loaded into <code class="code">jm</code>.</p>

<p>Raising <a href="Sundials.html#EXCEPTIONRecoverableFailure"><code class="code"><span class="constructor">Sundials</span>.<span class="constructor">RecoverableFailure</span></code></a> indicates a recoverable error.
        Any other exception is treated as an unrecoverable error.</p>

<p><div class="warningbox"> Neither the elements of <code class="code">arg</code> nor the matrix <code class="code">jm</code> should
                 be accessed after the function has returned.</div></p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>IDALsJacFnBS</div></ul>
</div>


<pre><code><span id="TYPEjac_fn"><span class="keyword">type</span> <code class="type">'m</code> jac_fn</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTjac_fn.NoSens"><span class="constructor">NoSens</span></span> <span class="keyword">of</span> <code class="type">'m <a href="Idas.Adjoint.Dls.html#TYPEjac_fn_no_sens">jac_fn_no_sens</a></code></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
<div class="info-desc">
<p>Does not depend on forward sensitivities.</p>
</div>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTjac_fn.WithSens"><span class="constructor">WithSens</span></span> <span class="keyword">of</span> <code class="type">'m <a href="Idas.Adjoint.Dls.html#TYPEjac_fn_with_sens">jac_fn_with_sens</a></code></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
<div class="info-desc">
<p>Depends on forward sensitivities.</p>
</div>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>

<div class="info ">
<div class="info-desc">
<p>Callback functions that compute dense approximations to a Jacobian
        matrix.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>IDALsJacFnB</div><div class="sundials"><span class="seesundials">See sundials: </span>IDALsJacFnBS</div></ul>
</div>


<pre><span id="VALsolver"><span class="keyword">val</span> solver</span> : <code class="type">?jac:'m <a href="Idas.Adjoint.Dls.html#TYPEjac_fn">jac_fn</a> -><br>       ('m, Sundials.RealArray.t, [> <a href="Nvector_serial.html#TYPEkind">Nvector_serial.kind</a> ] as 'a, 't)<br>       Sundials.LinearSolver.t -> 'a <a href="Idas.Adjoint.html#TYPEserial_linear_solver">Idas.Adjoint.serial_linear_solver</a></code></pre><div class="info ">
<div class="info-desc">
<p>Create an Idas-specific linear solver from a Jacobian approximation
        function and a generic direct linear solver.
        The Jacobian approximation function is optional for dense and banded
        solvers (if not given an internal difference quotient approximation is
        used), but must be provided for other solvers (or <code class="code"><span class="constructor">Invalid_argument</span></code>
        is raised).</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>IDASetLinearSolverB</div><div class="sundials"><span class="seesundials">See sundials: </span>IDASetJacFnB</div><div class="sundials"><span class="seesundials">See sundials: </span>IDASetJacFnBS</div></ul>
</div>
<h4 id="stats">Solver statistics</h4>
<pre><span id="VALget_work_space"><span class="keyword">val</span> get_work_space</span> : <code class="type">[> <a href="Nvector_serial.html#TYPEkind">Nvector_serial.kind</a> ] <a href="Idas.Adjoint.html#TYPEserial_bsession">Idas.Adjoint.serial_bsession</a> -> int * int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the sizes of the real and integer workspaces used by a direct
        linear solver.</p>
</div>
<ul class="info-attributes">
<li><b>Returns</b> (<code class="code">real_size</code>, <code class="code">integer_size</code>)</li>
<li><div class="sundials ida">      <span class="seesundials">See sundials: </span>IDAGetWorkSpace</div></li><li><div class="sundials idas">      <span class="seesundials">See sundials: </span>IDAGetAdjIDABmem</div></li></ul>
</div>

<pre><span id="VALget_num_jac_evals"><span class="keyword">val</span> get_num_jac_evals</span> : <code class="type">[> <a href="Nvector_serial.html#TYPEkind">Nvector_serial.kind</a> ] <a href="Idas.Adjoint.html#TYPEserial_bsession">Idas.Adjoint.serial_bsession</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the number of calls made by a direct linear solver to the
        Jacobian approximation function.</p>
</div>
<ul class="info-attributes">
<li><div class="sundials ida">      <span class="seesundials">See sundials: </span>IDAGetNumJacEvals</div></li><li><div class="sundials idas">      <span class="seesundials">See sundials: </span>IDAGetAdjIDABmem</div></li></ul>
</div>

<pre><span id="VALget_num_lin_res_evals"><span class="keyword">val</span> get_num_lin_res_evals</span> : <code class="type">[> <a href="Nvector_serial.html#TYPEkind">Nvector_serial.kind</a> ] <a href="Idas.Adjoint.html#TYPEserial_bsession">Idas.Adjoint.serial_bsession</a> -> int</code></pre><div class="info ">
<div class="info-desc">
<p>Returns the number of calls to the residual callback due to
        the finite difference Jacobian approximation.</p>
</div>
<ul class="info-attributes">
<li><div class="sundials ida">      <span class="seesundials">See sundials: </span>IDAGetNumResEvals</div></li><li><div class="sundials idas">      <span class="seesundials">See sundials: </span>IDAGetAdjIDABmem</div></li></ul>
</div>
</body></html>
