<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="docstyle.css" type="text/css">
<script type="text/x-mathjax-config">
   MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$']]}});
</script><script type="text/javascript"
        src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Sundials_Matrix.Band.html">
<link rel="next" href="Sundials_Matrix.ArrayDense.html">
<link rel="Up" href="Sundials_Matrix.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of extensions" rel=Appendix href="index_extensions.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Sundials_Index" rel="Chapter" href="Sundials_Index.html">
<link title="Sundials_Config" rel="Chapter" href="Sundials_Config.html">
<link title="Sundials_RealArray" rel="Chapter" href="Sundials_RealArray.html">
<link title="Sundials_RealArray2" rel="Chapter" href="Sundials_RealArray2.html">
<link title="Sundials_LintArray" rel="Chapter" href="Sundials_LintArray.html">
<link title="Sundials_ROArray" rel="Chapter" href="Sundials_ROArray.html">
<link title="Sundials_Logfile" rel="Chapter" href="Sundials_Logfile.html">
<link title="Sundials" rel="Chapter" href="Sundials.html">
<link title="Nvector" rel="Chapter" href="Nvector.html">
<link title="Nvector_serial" rel="Chapter" href="Nvector_serial.html">
<link title="Nvector_many" rel="Chapter" href="Nvector_many.html">
<link title="Sundials_Matrix" rel="Chapter" href="Sundials_Matrix.html">
<link title="Sundials_LinearSolver" rel="Chapter" href="Sundials_LinearSolver.html">
<link title="Sundials_NonlinearSolver" rel="Chapter" href="Sundials_NonlinearSolver.html">
<link title="Nvector_custom" rel="Chapter" href="Nvector_custom.html">
<link title="Nvector_array" rel="Chapter" href="Nvector_array.html">
<link title="Cvode" rel="Chapter" href="Cvode.html">
<link title="Kinsol" rel="Chapter" href="Kinsol.html">
<link title="Ida" rel="Chapter" href="Ida.html">
<link title="Arkode" rel="Chapter" href="Arkode.html">
<link title="Cvodes" rel="Chapter" href="Cvodes.html">
<link title="Idas" rel="Chapter" href="Idas.html">
<link title="Nvector_parallel" rel="Chapter" href="Nvector_parallel.html">
<link title="Nvector_mpimany" rel="Chapter" href="Nvector_mpimany.html">
<link title="Nvector_mpiplusx" rel="Chapter" href="Nvector_mpiplusx.html">
<link title="Kinsol_bbd" rel="Chapter" href="Kinsol_bbd.html">
<link title="Arkode_bbd" rel="Chapter" href="Arkode_bbd.html">
<link title="Cvode_bbd" rel="Chapter" href="Cvode_bbd.html">
<link title="Cvodes_bbd" rel="Chapter" href="Cvodes_bbd.html">
<link title="Ida_bbd" rel="Chapter" href="Ida_bbd.html">
<link title="Idas_bbd" rel="Chapter" href="Idas_bbd.html">
<link title="Nvector_openmp" rel="Chapter" href="Nvector_openmp.html">
<link title="Nvector_pthreads" rel="Chapter" href="Nvector_pthreads.html"><link title="Basic access" rel="Section" href="#sparse_basic">
<link title="Operations" rel="Section" href="#sparse_ops">
<link title="Low-level details" rel="Section" href="#sparse_lowlevel">
<title>Sundials/ML 5.8.0p0 : Sundials_Matrix.Sparse</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Sundials_Matrix.Band.html" title="Sundials_Matrix.Band">Previous</a>
&nbsp;<a class="up" href="Sundials_Matrix.html" title="Sundials_Matrix">Up</a>
&nbsp;<a class="post" href="Sundials_Matrix.ArrayDense.html" title="Sundials_Matrix.ArrayDense">Next</a>
</div>
<h1>Module <a href="type_Sundials_Matrix.Sparse.html">Sundials_Matrix.Sparse</a></h1>

<pre><span id="MODULESparse"><span class="keyword">module</span> Sparse</span>: <code class="code"><span class="keyword">sig</span></code> <a href="Sundials_Matrix.Sparse.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
<div class="info-desc">
<p>Sparse matrices</p>
</div>
</div>
<hr width="100%">

<pre><span id="TYPEcsc"><span class="keyword">type</span> <code class="type"></code>csc</span> </pre>
<div class="info ">
<div class="info-desc">
<p>Compressed-sparse-column format.</p>
</div>
</div>


<pre><span id="TYPEcsr"><span class="keyword">type</span> <code class="type"></code>csr</span> </pre>
<div class="info ">
<div class="info-desc">
<p>Compressed-sparse-row format.</p>
</div>
</div>


<pre><code><span id="TYPEsformat"><span class="keyword">type</span> <code class="type">'_</code> sformat</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTsformat.CSC"><span class="constructor">CSC</span></span> <span class="keyword">:</span> <code class="type"><a href="Sundials_Matrix.Sparse.html#TYPEcsc">csc</a> <a href="Sundials_Matrix.Sparse.html#TYPEsformat">sformat</a></code></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
<div class="info-desc">
<p>Compressed-sparse-column format (<code class="code"><span class="constructor">CSC_MAT</span></code>).</p>
</div>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTsformat.CSR"><span class="constructor">CSR</span></span> <span class="keyword">:</span> <code class="type"><a href="Sundials_Matrix.Sparse.html#TYPEcsr">csr</a> <a href="Sundials_Matrix.Sparse.html#TYPEsformat">sformat</a></code></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
<div class="info-desc">
<p>Compressed-sparse-row format (<code class="code"><span class="constructor">CSR_MAT</span></code>).</p>
</div>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>

<div class="info ">
<div class="info-desc">
<p>Matrix storage formats.</p>
</div>
</div>


<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type">'s</code> t</span> </pre>
<div class="info ">
<div class="info-desc">
<p>A sparse matrix. Values of this type are typically passed to linear
      solver callback functions (like <a href="Cvode.Dls.html#TYPEjac_fn"><code class="code"><span class="constructor">Cvode</span>.<span class="constructor">Dls</span>.jac_fn</code></a>,
      <a href="Ida.Dls.html#TYPEjac_fn"><code class="code"><span class="constructor">Ida</span>.<span class="constructor">Dls</span>.jac_fn</code></a>, and <a href="Kinsol.Dls.html#TYPEjac_fn"><code class="code"><span class="constructor">Kinsol</span>.<span class="constructor">Dls</span>.jac_fn</code></a>).</p>

<p>The type argument specifies the storage format, either
      <a href="Sundials_Matrix.Sparse.html#TYPEcsc">compressed-sparse-column format</a> or
      <a href="Sundials_Matrix.Sparse.html#TYPEcsr">compressed-sparse-row format</a>.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>The SUNMatrix_Sparse implementation</div></ul>
</div>


<pre><span id="TYPEindex_array"><span class="keyword">type</span> <code class="type"></code>index_array</span> = <code class="type">(Sundials.Index.t, Sundials.Index.index_elt, Stdlib.Bigarray.c_layout)<br>       Stdlib.Bigarray.Array1.t</code> </pre>
<div class="info ">
<div class="info-desc">
<p>Array of row or column indices</p>
</div>
</div>

<h4 id="sparse_basic">Basic access</h4>
<pre><span id="VALmake"><span class="keyword">val</span> make</span> : <code class="type">'s <a href="Sundials_Matrix.Sparse.html#TYPEsformat">sformat</a> -><br>       int -> int -> int -> 's <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">make&nbsp;fmt&nbsp;m&nbsp;n&nbsp;nnz</code> returns an <code class="code">m</code> by <code class="code">n</code> sparse matrix in the
      specified format with a potential for <code class="code">nnz</code> non-zero elements.
      All elements are initially zero.</p>

<p>The <a href="Sundials_Matrix.Sparse.html#VALsformat">CSR</a> format is only available from Sundials 2.7.0
      onwards.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SUNSparseMatrix</div></ul>
</div>

<pre><span id="VALfrom_dense"><span class="keyword">val</span> from_dense</span> : <code class="type">'s <a href="Sundials_Matrix.Sparse.html#TYPEsformat">sformat</a> -><br>       float -> <a href="Sundials_Matrix.Dense.html#TYPEt">Sundials_Matrix.Dense.t</a> -> 's <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Creates a sparse matrix in in the specified format from a dense matrix
      by copying all values of magnitude greater than the given tolerance.</p>

<p>The <a href="Sundials_Matrix.Sparse.html#VALsformat">CSR</a> format is only available from Sundials 2.7.0
      onwards.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SUNSparseFromDenseMatrix</div></ul>
</div>

<pre><span id="VALfrom_band"><span class="keyword">val</span> from_band</span> : <code class="type">'s <a href="Sundials_Matrix.Sparse.html#TYPEsformat">sformat</a> -><br>       float -> <a href="Sundials_Matrix.Band.html#TYPEt">Sundials_Matrix.Band.t</a> -> 's <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Creates a sparse matrix in the specified format from a band matrix by
      copying all values of magnitude greater than the given tolerance.</p>

<p>The <a href="Sundials_Matrix.Sparse.html#VALsformat">CSR</a> format is only available from Sundials 2.7.0
      onwards.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SUNSparseFromBandMatrix</div></ul>
</div>

<pre><span id="VALsformat"><span class="keyword">val</span> sformat</span> : <code class="type">'s <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> 's <a href="Sundials_Matrix.Sparse.html#TYPEsformat">sformat</a></code></pre><div class="info ">
<div class="info-desc">
<p>Return the matrix format.</p>
</div>
</div>

<pre><span id="VALis_csc"><span class="keyword">val</span> is_csc</span> : <code class="type">'s <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
<div class="info-desc">
<p>Returns true iff the matrix format is <a href="Sundials_Matrix.Sparse.html#VALsformat">CSC</a>.
      It is essentially a version of <a href="Sundials_Matrix.Sparse.html#VALsformat"><code class="code"><span class="constructor">Sundials_Matrix</span>.<span class="constructor">Sparse</span>.sformat</code></a> with less typing
      complications.</p>
</div>
</div>

<pre><span id="VALsize"><span class="keyword">val</span> size</span> : <code class="type">'s <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int * int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">m,&nbsp;n&nbsp;=&nbsp;size&nbsp;a</code> returns the numbers of rows <code class="code">m</code> and columns <code class="code">n</code>
      of <code class="code">a</code>.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SM_ROWS_S</div><div class="sundials"><span class="seesundials">See sundials: </span>SM_COLUMNS_S</div><div class="sundials"><span class="seesundials">See sundials: </span>SUNSparseMatrix_Rows</div><div class="sundials"><span class="seesundials">See sundials: </span>SUNSparseMatrix_Columns</div></ul>
</div>

<pre><span id="VALdims"><span class="keyword">val</span> dims</span> : <code class="type">'s <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int * int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">nnz,&nbsp;np&nbsp;=&nbsp;dims&nbsp;m</code> returns the allocated number of nonzeros <code class="code">nnz</code> and
      of the number <code class="code">np</code> of columns (for csc) or rows (for csr) in the
      matrix <code class="code">m</code>.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SM_NNZ_S</div><div class="sundials"><span class="seesundials">See sundials: </span>SM_NP_S</div><div class="sundials"><span class="seesundials">See sundials: </span>SUNSparseMatrix_NNZ</div><div class="sundials"><span class="seesundials">See sundials: </span>SUNSparseMatrix_NP</div></ul>
</div>

<pre><span id="VALpp"><span class="keyword">val</span> pp</span> : <code class="type">Stdlib.Format.formatter -> 's <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Pretty-print a sparse matrix using the
      <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Format.html"> Format</a> module.</p>
</div>
</div>

<pre><span id="VALppi"><span class="keyword">val</span> ppi</span> : <code class="type">?start:string -><br>       ?stop:string -><br>       ?sep:string -><br>       ?indent:int -><br>       ?itemsep:string -><br>       ?rowcol:(Stdlib.Format.formatter -> int -> unit) -><br>       ?item:(Stdlib.Format.formatter -> int -> float -> unit) -><br>       unit -> Stdlib.Format.formatter -> 's <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Pretty-print a sparse matrix using the
      <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Format.html"> Format</a> module.
      The defaults are: <code class="code">start=<span class="string">"["</span></code>, <code class="code">stop=<span class="string">"]"</span></code>, <code class="code">sep=<span class="string">";"</span></code>,
      <code class="code">indent=4</code>, <code class="code">itemsep=<span class="string">"&nbsp;"</span></code>,
      <code class="code">rowcol=<span class="keyword">fun</span>&nbsp;f&nbsp;i<span class="keywordsign">-&gt;</span><span class="constructor">Format</span>.fprintf&nbsp;f&nbsp;<span class="string">"%2d:&nbsp;"</span>&nbsp;i</code>, and
      <code class="code">item=<span class="keyword">fun</span>&nbsp;f&nbsp;r&nbsp;c<span class="keywordsign">-&gt;</span><span class="constructor">Format</span>.fprintf&nbsp;f&nbsp;<span class="string">"(%2d,%2d)=%&nbsp;-15e"</span>&nbsp;r&nbsp;c</code> (see
      <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Format.html#VALfprintf"> fprintf</a>).
      The <code class="code">indent</code> argument specifies the indent for wrapped rows.</p>
</div>
</div>

<pre><span id="VALset_col"><span class="keyword">val</span> set_col</span> : <code class="type"><a href="Sundials_Matrix.Sparse.html#TYPEcsc">csc</a> <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int -> int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">set_col&nbsp;a&nbsp;j&nbsp;idx</code> sets the data index of column <code class="code">j</code> to <code class="code">idx</code>.</p>
</div>
</div>

<pre><span id="VALget_col"><span class="keyword">val</span> get_col</span> : <code class="type"><a href="Sundials_Matrix.Sparse.html#TYPEcsc">csc</a> <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int -> int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_col&nbsp;a&nbsp;j</code> returns the data index of column <code class="code">j</code>.</p>
</div>
</div>

<pre><span id="VALset_row"><span class="keyword">val</span> set_row</span> : <code class="type"><a href="Sundials_Matrix.Sparse.html#TYPEcsr">csr</a> <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int -> int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">set_row&nbsp;a&nbsp;j&nbsp;idx</code> sets the data index of row <code class="code">j</code> to <code class="code">idx</code>.</p>
</div>
</div>

<pre><span id="VALget_row"><span class="keyword">val</span> get_row</span> : <code class="type"><a href="Sundials_Matrix.Sparse.html#TYPEcsr">csr</a> <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int -> int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">get_row&nbsp;a&nbsp;j</code> returns the data index of row <code class="code">j</code>.</p>
</div>
</div>

<pre><span id="VALset"><span class="keyword">val</span> set</span> : <code class="type">'f <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int -> int -> float -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">set&nbsp;a&nbsp;idx&nbsp;i&nbsp;v</code> sets the <code class="code">idx</code>th row/column to <code class="code">i</code> and its value
      to <code class="code">v</code>.</p>
</div>
</div>

<pre><span id="VALget"><span class="keyword">val</span> get</span> : <code class="type">'f <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int -> int * float</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">r,&nbsp;v&nbsp;=&nbsp;get&nbsp;a&nbsp;idx</code> returns the row/column <code class="code">r</code> and value <code class="code">v</code> at the
      <code class="code">idx</code>th position.</p>
</div>
</div>

<pre><span id="VALunwrap"><span class="keyword">val</span> unwrap</span> : <code class="type">'s <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -><br>       <a href="Sundials_Matrix.Sparse.html#TYPEindex_array">index_array</a> * <a href="Sundials_Matrix.Sparse.html#TYPEindex_array">index_array</a> *<br>       Sundials.RealArray.t</code></pre><div class="info ">
<div class="info-desc">
<p>Direct access to the underlying sparse storage arrays.
      In the call <code class="code">vals,&nbsp;ptrs,&nbsp;data&nbsp;=&nbsp;unwrap&nbsp;m</code> ,</p>
<ul>
<li><code class="code">vals</code> contains the row (if <code class="code">csc</code>) or column (if <code class="code">csr</code>) indices of
               nonzero matrix entries in <code class="code">data</code>,</li>
<li><code class="code">ptrs</code> contains the indices of the column (if <code class="code">csc</code>) or
               row (if <code class="code">csr</code>) entries in <code class="code">data</code> and <code class="code">vals</code>, and</li>
<li><code class="code">data</code> contains the values of the nonzero entries.</li>
</ul>
<p>NB: The <a href="Sundials_Matrix.Sparse.html#VALscale_add"><code class="code"><span class="constructor">Sundials_Matrix</span>.<span class="constructor">Sparse</span>.scale_add</code></a>, <a href="Sundials_Matrix.Sparse.html#VALscale_addi"><code class="code"><span class="constructor">Sundials_Matrix</span>.<span class="constructor">Sparse</span>.scale_addi</code></a>, <a href="Sundials_Matrix.Sparse.html#VALblit"><code class="code"><span class="constructor">Sundials_Matrix</span>.<span class="constructor">Sparse</span>.blit</code></a>, and <a href="Sundials_Matrix.Sparse.html#VALresize"><code class="code"><span class="constructor">Sundials_Matrix</span>.<span class="constructor">Sparse</span>.resize</code></a> functions,
      invoked either directly or from within a solver, may replace the
      underlying storage. In these cases, any previously 'unwrapped' arrays
      are no longer associated with the matrix storage.</p>

<p>NB: For <a href="Sundials_Config.html#VALsundials_version">Config.sundials_version</a> &lt; 3.0.0, this access is
      potentially unsafe and <b>must</b> only be used when the underlying
      storage is valid, which will be the case in callbacks unless the
      <a href="Sundials_Matrix.Sparse.html#VALscale_add"><code class="code"><span class="constructor">Sundials_Matrix</span>.<span class="constructor">Sparse</span>.scale_add</code></a>, <a href="Sundials_Matrix.Sparse.html#VALscale_addi"><code class="code"><span class="constructor">Sundials_Matrix</span>.<span class="constructor">Sparse</span>.scale_addi</code></a>, <a href="Sundials_Matrix.Sparse.html#VALblit"><code class="code"><span class="constructor">Sundials_Matrix</span>.<span class="constructor">Sparse</span>.blit</code></a>, and <a href="Sundials_Matrix.Sparse.html#VALresize"><code class="code"><span class="constructor">Sundials_Matrix</span>.<span class="constructor">Sparse</span>.resize</code></a> functions are
      used.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SM_INDEXVALS_S</div><div class="sundials"><span class="seesundials">See sundials: </span>SM_INDEXPTRS_S</div><div class="sundials"><span class="seesundials">See sundials: </span>SM_DATA_S</div></ul>
</div>

<pre><span id="VALresize"><span class="keyword">val</span> resize</span> : <code class="type">?nnz:int -> 's <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Reallocates the underlying arrays to the given number of non-zero
      elements, or otherwise to the current number of non-zero elements .</p>

<p>NB: The <a href="Sundials_Matrix.Sparse.html#VALresize"><code class="code"><span class="constructor">Sundials_Matrix</span>.<span class="constructor">Sparse</span>.resize</code></a> operation may replace the underlying storage of the
      matrix argument. In this case, any previously 'unwrapped' array is no
      longer associated with the matrix storage.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SUNSparseMatrix_Realloc</div><div class="sundials"><span class="seesundials">See sundials: </span>SUNSparseMatrix_Reallocate</div></ul>
</div>
<h4 id="sparse_ops">Operations</h4>
<pre><span id="VALops"><span class="keyword">val</span> ops</span> : <code class="type">('s <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a>, <a href="Nvector_serial.html#TYPEdata">Nvector_serial.data</a>) <a href="Sundials_Matrix.html#TYPEmatrix_ops">Sundials_Matrix.matrix_ops</a></code></pre><div class="info ">
<div class="info-desc">
<p>Operations on sparse matrices.</p>
</div>
</div>

<pre><span id="VALscale_add"><span class="keyword">val</span> scale_add</span> : <code class="type">float -> 's <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> 's <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">scale_add&nbsp;c&nbsp;<span class="constructor">A</span>&nbsp;<span class="constructor">B</span></code> calculates $A = cA + B$.</p>

<p>NB: The <a href="Sundials_Matrix.Sparse.html#VALscale_add"><code class="code"><span class="constructor">Sundials_Matrix</span>.<span class="constructor">Sparse</span>.scale_add</code></a> operation, invoked either directly or from within
      a solver, may replace the underlying storage of its first matrix
      argument does not contain the sparsity of the second matrix argument.
      In this case, any previously 'unwrapped' array is no longer associated
      with the matrix storage.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SUNMatScaleAdd</div><div class="sundials"><span class="seesundials">See sundials: </span>SUNMatScaleAdd_Sparse</div></ul>
</div>

<pre><span id="VALscale_addi"><span class="keyword">val</span> scale_addi</span> : <code class="type">float -> 's <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">scale_addi&nbsp;c&nbsp;<span class="constructor">A</span></code> calculates $A = cA + I$.</p>

<p>NB: The <a href="Sundials_Matrix.Sparse.html#VALscale_add"><code class="code"><span class="constructor">Sundials_Matrix</span>.<span class="constructor">Sparse</span>.scale_add</code></a> operation, invoked either directly or from within
      a solver, may replace the underlying storage of its matrix argument
      if it does not already contain a complete diagonal. In this
      case, any previously 'unwrapped' array is no longer associated with
      the matrix storage.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SUNMatScaleAddI</div><div class="sundials"><span class="seesundials">See sundials: </span>SUNMatScaleAddI_Sparse</div></ul>
</div>

<pre><span id="VALmatvec"><span class="keyword">val</span> matvec</span> : <code class="type">'s <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -><br>       Sundials.RealArray.t -> Sundials.RealArray.t -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>The call <code class="code">matvec&nbsp;a&nbsp;x&nbsp;y</code> computes the matrix-vector product $y = Ax$.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SUNMatMatvec</div><div class="sundials"><span class="seesundials">See sundials: </span>SUNMatMatvec_Sparse</div></ul>
</div>

<pre><span id="VALset_to_zero"><span class="keyword">val</span> set_to_zero</span> : <code class="type">'s <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Fills a matrix with zeros.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SUNMatZero</div><div class="sundials"><span class="seesundials">See sundials: </span>SUNMatZero_Sparse</div></ul>
</div>

<pre><span id="VALblit"><span class="keyword">val</span> blit</span> : <code class="type">src:'s <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> dst:'s <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">blit&nbsp;~src&nbsp;~dst</code> copies the contents of <code class="code">src</code> into <code class="code">dst</code>. Both
      must have the same size.</p>

<p>NB: This operation, invoked either directly or from within a solver,
      may replace the underlying storage of its second matrix argument if it
      does not contain the sparsity of the first matrix argument.
      In this case, any previously 'unwrapped' array is no longer associated
      with the matrix storage.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SUNMatCopy</div><div class="sundials"><span class="seesundials">See sundials: </span>SUNMatCopy_Sparse</div></ul>
</div>

<pre><span id="VALcopy_to_csr"><span class="keyword">val</span> copy_to_csr</span> : <code class="type"><a href="Sundials_Matrix.Sparse.html#TYPEcsc">csc</a> <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -><br>       <a href="Sundials_Matrix.Sparse.html#TYPEcsr">csr</a> <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Create a new sparse matrix in <a href="Sundials_Matrix.Sparse.html#VALsformat">CSR</a> format from the contents
      of an existing one in <a href="Sundials_Matrix.Sparse.html#VALsformat">CSC</a> format.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 5.2.0</li>
<div class="sundials"><span class="seesundials">See sundials: </span>SUNSparseMatrix_ToCSR</div></ul>
</div>

<pre><span id="VALcopy_to_csc"><span class="keyword">val</span> copy_to_csc</span> : <code class="type"><a href="Sundials_Matrix.Sparse.html#TYPEcsr">csr</a> <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -><br>       <a href="Sundials_Matrix.Sparse.html#TYPEcsc">csc</a> <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p>Create a new sparse matrix in <a href="Sundials_Matrix.Sparse.html#VALsformat">CSC</a> format from the contents
      of an existing one in <a href="Sundials_Matrix.Sparse.html#VALsformat">CSR</a> format.</p>
</div>
<ul class="info-attributes">
<li><b>Since</b> 5.2.0</li>
<div class="sundials"><span class="seesundials">See sundials: </span>SUNSparseMatrix_ToCSC</div></ul>
</div>

<pre><span id="VALspace"><span class="keyword">val</span> space</span> : <code class="type">'s <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int * int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">lrw,&nbsp;liw&nbsp;=&nbsp;space&nbsp;a</code> returns the storage requirements of <code class="code">a</code> as
      <code class="code">lrw</code> realtype words and <code class="code">liw</code> integer words.</p>
</div>
<ul class="info-attributes">
<div class="sundials"><span class="seesundials">See sundials: </span>SUNMatSpace</div><div class="sundials"><span class="seesundials">See sundials: </span>SUNMatSpace_Sparse</div></ul>
</div>
<h4 id="sparse_lowlevel">Low-level details</h4>
<pre><span id="VALset_rowval"><span class="keyword">val</span> set_rowval</span> : <code class="type"><a href="Sundials_Matrix.Sparse.html#TYPEcsc">csc</a> <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int -> int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">set_rowval&nbsp;a&nbsp;idx&nbsp;i</code> sets the <code class="code">idx</code>th row to <code class="code">i</code>.</p>
</div>
</div>

<pre><span id="VALget_rowval"><span class="keyword">val</span> get_rowval</span> : <code class="type"><a href="Sundials_Matrix.Sparse.html#TYPEcsc">csc</a> <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int -> int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">r&nbsp;=&nbsp;get_rowval&nbsp;a&nbsp;idx</code> returns the row <code class="code">r</code> at the <code class="code">idx</code>th position.</p>
</div>
</div>

<pre><span id="VALset_colval"><span class="keyword">val</span> set_colval</span> : <code class="type"><a href="Sundials_Matrix.Sparse.html#TYPEcsr">csr</a> <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int -> int -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">set_colval&nbsp;a&nbsp;idx&nbsp;i</code> sets the <code class="code">idx</code>th column to <code class="code">i</code>.</p>
</div>
</div>

<pre><span id="VALget_colval"><span class="keyword">val</span> get_colval</span> : <code class="type"><a href="Sundials_Matrix.Sparse.html#TYPEcsr">csr</a> <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int -> int</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">c&nbsp;=&nbsp;get_colval&nbsp;a&nbsp;idx</code> returns the column <code class="code">c</code> at the <code class="code">idx</code>th
      position.</p>
</div>
</div>

<pre><span id="VALset_data"><span class="keyword">val</span> set_data</span> : <code class="type">'f <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int -> float -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">set_data&nbsp;a&nbsp;idx&nbsp;v</code> sets the value of the <code class="code">idx</code>th row <code class="code">v</code>.</p>
</div>
</div>

<pre><span id="VALget_data"><span class="keyword">val</span> get_data</span> : <code class="type">'f <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> int -> float</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">v&nbsp;=&nbsp;get_data&nbsp;a&nbsp;idx</code> returns the value <code class="code">v</code> at the <code class="code">idx</code>th position.</p>
</div>
</div>

<pre><span id="VALinvalidate"><span class="keyword">val</span> invalidate</span> : <code class="type">'s <a href="Sundials_Matrix.Sparse.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
<div class="info-desc">
<p>Called internally when the corresponding value in the underlying
      library ceases to exist. Has no effect when
      <a href="Sundials_Config.html#VALsundials_version">Config.sundials_version</a> &gt;= 3.0.0.</p>
</div>
</div>
</body></html>
